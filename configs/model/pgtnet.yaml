# PGTNet external runner configuration
# This model runs in its own environment via subprocess and integrates with the
# benchmark only for the remaining_time task in extended attribute mode.

name: pgtnet
use_external_runner: true
execute: false  # if true, the runner will actually call the external processes; if false, it only writes scripts/plans

# Paths to third-party repos and interpreter
pgtnet_repo: third_party/PGTNet           # path where the PGTNet repository is located (can be outside; absolute or relative)
graphgps_repo: third_party/GraphGPS       # path where the GraphGPS repository is located (can be outside; absolute or relative)
python: python3                           # interpreter to run PGTNet/GraphGPS (e.g., /opt/conda/envs/graphgps/bin/python)

# Converter/training/inference references used by PGTNet/GraphGPS
converter:
  config_dir: conversion_configs          # relative to PGTNet repo (default folder name in their repo)
  config_name: helpdesk.yaml              # default to Helpdesk for smoke tests; override per dataset as needed: trafficfines.yaml | sepsis.yaml | bpic12.yaml
  overwrite: false
  # Optional absolute path to the input XES file to use for conversion.
  # If set, the runner will copy it into <pgtnet_repo>/raw_dataset/<dataset_name from YAML> before invoking GTconvertor.
  input_xes: null

train:
  # Use PGTNet-provided training config for Helpdesk by default; the runner can resolve files
  # relative to GraphGPS repo, PGTNet repo, or as an absolute path.
  cfg_file: training_configs/helpdesk-GPSwGraphormer-ckptbest.yaml
  run_multiple_splits: [0]  # smoke test trains a single split by default; override in full runs
  seed: 42

infer:
  # Use PGTNet-provided inference config for Helpdesk by default
  cfg_file: inference_configs/helpdesk-GPSwGraphormer-ckptbest-eventinference.yaml
  run_multiple_splits: [0]
  seed: 42
  pretrained_dir: null  # if null, runner tries to use GraphGPS/results/<train_name>

# Dataset mapping hints
# dataset_format: Name of the PyG data object class used inside GraphGPS/PyG for this dataset
# dataset_key: A short dataset key used by PGTNet's ResultHandler to select mapping logic
# Leave as null to skip strict checks; set explicitly for reproducibility.
dataset_format: null   # e.g., "PyG-EVENTHELPDESK" or "PyG-EVENTBPIC15M1"
dataset_key: null      # e.g., "HelpDesk", (must match PGTNet's allowed set)

# Output/work directories
work_dir: outputs/pgtnet_work
outputs_dir: outputs/pgtnet

# CV / execution controls
seeds: [42]
max_folds: 5

# Advanced
# Timeout per subprocess call in seconds (0 means no timeout)
subprocess_timeout: 0

# When true, we will try to parse PGTNet predictions and compute metrics immediately.
# When false, only scripts/plan are written, not executed.
auto_collect_predictions: false
