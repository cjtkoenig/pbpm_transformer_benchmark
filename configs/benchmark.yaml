# Global defaults you can override from CLI, e.g.:
# python -m src.cli task=next_activity model.embed_dim=512 train.accelerator=mps
seed: 42

task: next_activity            # next_activity | next_time | remaining_time | multitask
cv:
  n_folds: 5
  stratify: null
  split_by_cases: true

data:
  path_raw: data/raw
  path_processed: data/processed
  end_of_case_token: "<eoc>"

  max_prefix_length: 50
  attribute_mode: minimal      # minimal (activities only) | extended (each model's speciality)
  datasets: ["BPI_Challenge_2012", "Helpdesk", "Road_Traffic_Fine_Management_Process", "Sepsis Cases - Event Log", "Tourism"]

model:
  name: process_transformer   # process_transformer | mtlformer | activity_only_lstm | shared_lstm | specialised_lstm | pgtnet
  max_case_length: 50
  # Global defaults (may be overridden below per-model)
  embed_dim: 64
  num_heads: 4
  ff_dim: 256
  # Per-model hyperparameters; used if present, otherwise fall back to global values above
  per_model:
    process_transformer:
      embed_dim: 36
      num_heads: 4
      ff_dim: 64
    mtlformer:
      embed_dim: 36
      num_heads: 4
      ff_dim: 64

train:
  batch_size: 128
  max_epochs: 50
  learning_rate: null          # optional scalar override; if null, use train.learning_rates[model.name] when available
  learning_rates:              # per-model defaults
    process_transformer: 1e-2
    mtlformer: 2e-3
    shared_lstm: 1e-3
    specialised_lstm: 1e-3
    activity_only_lstm: 1e-3
    pgtnet: 1e-3
  accelerator: auto            # auto | cpu | gpu | mps
  devices: 1
  early_stopping_patience: 3
  early_stopping_monitor: val_loss
  early_stopping_mode: min
  early_stopping_min_delta: 0.001
  restore_best_weights: true

metrics:
  next_activity: ["accuracy", "f1_score"]
  time: ["mae", "rmse", "r2"]

# Preprocessing management
preprocess_action: null        # info | clear | force
dataset_name: null             # For clearing specific dataset
force_preprocess: false        # Force reprocessing even if processed data exists

# Analysis management
analysis:
  action: null                 # run_stats | run_full_stats | null